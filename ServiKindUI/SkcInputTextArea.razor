@using System.Text

<span>
	<InputTextArea Value="@Value"
				   ValueChanged="@ValueChanged"
				   ValueExpression="@ValueExpression"
				   class="skc-input-textarea"
				   id="@Id"
				   disabled="@Disabled"
				   rows="@Rows"
				   style="@CreateStyleString()" />
</span>


@code {
	[Parameter]
	public string Value { get; set; } = string.Empty;

	[Parameter]
	public EventCallback<string> ValueChanged { get; set; }

	[Parameter]
	public Expression<Func<string>> ValueExpression { get; set; } = default!;

	[Parameter]
	[EditorRequired]
	public string Id { get; set; } = string.Empty;

	[Parameter]
	public bool Disabled { get; set; } = false;

	[Parameter]
	public int? Rows { get; set; }

	[Parameter]
	public string? Width { get; set; }

	private string CreateStyleString() {
		var style = new StringBuilder();
		if (!string.IsNullOrWhiteSpace(Width)) {
			style.Append($"width: {Width};");
		}
		return style.ToString();
	}
}